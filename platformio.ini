; ============================================================
;  ESP32-C6 OpenThread Border Router — PlatformIO Configuration
;
;  Board:     Seeed Studio XIAO ESP32-C6
;  Framework: ESP-IDF (v5.3+)
;
;  Before building:
;    1. Edit src/config.h with your Wi-Fi credentials & device name
;    2. Plug in the XIAO ESP32-C6 via USB-C
;    3. Build & flash:  pio run -t upload
;    4. Monitor logs:   pio device monitor
; ============================================================

[env:seeed_xiao_esp32c6]
platform = espressif32 @ ^6.9.0
board = esp32-c6-devkitc-1
framework = espidf

; --- Board overrides for XIAO ESP32-C6 ---
board_build.mcu = esp32c6
board_build.f_cpu = 160000000L

; Use our custom partition table (needs room for OT + NVS)
board_build.partitions = partitions.csv

; ESP-IDF sdkconfig defaults — enables OpenThread, BR, Wi-Fi, etc.
board_build.cmake_extra_args =
    -DSDKCONFIG_DEFAULTS=sdkconfig.defaults

; Monitor speed (match the ESP32-C6 USB-CDC default)
monitor_speed = 115200
monitor_filters = esp32_exception_decoder, colorize

; Upload speed
upload_speed = 921600

; Extra component directories (if you later add custom components)
; board_build.embed_files =

; Build flags
build_flags =
    -DCONFIG_OPENTHREAD_ENABLED=1
    -DCONFIG_OPENTHREAD_BORDER_ROUTER=1

; Increase stack sizes for OT
board_build.cmake_extra_args =
